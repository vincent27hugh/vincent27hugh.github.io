<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">






  
  
  <link rel="stylesheet" media="all" href="/lib/Han/dist/han.min.css?v=3.3">




<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="information_system,research,sentiment_analysis,image,mathjax,literature_review,opinion_mining,time_series,finance," />





  <link rel="alternate" href="/atom.xml" title="NEVERLAND" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.jpg?v=5.1.2" />






<meta name="description" content="This is the literature review on sentiment analysis on financial market.">
<meta name="keywords" content="information_system,research,sentiment_analysis,image,mathjax,literature_review,opinion_mining,time_series,finance">
<meta property="og:type" content="article">
<meta property="og:title" content="Literature Review on Social Media in Financial Market">
<meta property="og:url" content="http://blog.baoduge.com/SA_FN2/index.html">
<meta property="og:site_name" content="NEVERLAND">
<meta property="og:description" content="This is the literature review on sentiment analysis on financial market.">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://blog.baoduge.com/images/20171102_Yahoo.png">
<meta property="og:updated_time" content="2017-11-25T16:56:49.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Literature Review on Social Media in Financial Market">
<meta name="twitter:description" content="This is the literature review on sentiment analysis on financial market.">
<meta name="twitter:image" content="http://blog.baoduge.com/images/20171102_Yahoo.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.2',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":12,"b2t":true,"scrollpercent":true,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://blog.baoduge.com/SA_FN2/"/>





  <title>Literature Review on Social Media in Financial Market | NEVERLAND</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">NEVERLAND</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">夢幻島</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.baoduge.com/SA_FN2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="BDG飽蠹閣">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://baoduge.com/My/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NEVERLAND">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">Literature Review on Social Media in Financial Market</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-11-02T00:00:00+08:00">
                2017-11-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/English/" itemprop="url" rel="index">
                    <span itemprop="name">English</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/SA_FN2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="SA_FN2/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/SA_FN2/" class="leancloud_visitors" data-flag-title="Literature Review on Social Media in Financial Market">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          
              <div class="post-description">
                  This is the literature review on sentiment analysis on financial market.
              </div>
          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        <script src="/assets/js/APlayer.min.js"> </script><h1 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h1><p>We posted a brief introduction on Sentiment Analysis (see <a href="http://blog.baoduge.com/Introduction_to_Sentiment_Analysis/">Introduction to Sentiment Analysis</a>) and reviewed several literature on UGC/WOS (see <a href="http://blog.baoduge.com/SA_FN/">Literature Review on UGC/WOM</a>). Today, we are going to read some papers on taking good use of sentiment analysis and social media to analyze financial market.</p>
<p>In the paper <code>AI and Opinion Mining</code>, Chen et al, 2010<sup><a href="#fn_1" id="reffn_1">1</a></sup>, present how online opinion- mining works by investigating the stock performance of a large US corporation, Wal-Mart. Finally, they find that:</p>
<blockquote>
<p>message volume in the forum holds a significant negative relationship with stock return, with high volume indicating subsequent negative returns. Disagreement and subjectivity also held significant relationships with volatility, where less disagreement and high levels of subjectivity predicted periods of high stock volatility.</p>
</blockquote>
<p>This study clarifies the possibility of using sentiment analysis to explore the principles of financial market.</p>
<h1 id="Role-of-social-media-and-sentiment-analysis-in-financial-market"><a href="#Role-of-social-media-and-sentiment-analysis-in-financial-market" class="headerlink" title="Role of social media and sentiment analysis in financial market"></a>Role of social media and sentiment analysis in financial market</h1><h2 id="Yahoo-for-Amazon-Sentiment-Extraction-from-Small-Talk-on-the-Web"><a href="#Yahoo-for-Amazon-Sentiment-Extraction-from-Small-Talk-on-the-Web" class="headerlink" title="Yahoo! for Amazon: Sentiment Extraction from Small Talk on the Web"></a>Yahoo! for Amazon: Sentiment Extraction from Small Talk on the Web</h2><p>Das et al, 2007<sup><a href="#fn_2" id="reffn_2">2</a></sup> develop a methodology for extracting small investor sentiment from stock message boards.</p>
<h3 id="Methodologies"><a href="#Methodologies" class="headerlink" title="Methodologies"></a>Methodologies</h3><ul>
<li>Messages are classified by our algorithms into one of three types: bullish (optimistic), bearish (pessimistic), and neutral (comprising either spam or mes- sages that are neither bullish nor bearish).</li>
<li>Five algorithms: Naive classifier, Vector distance classifies, Discriminant classifier, Adjective/Adverb Cl, Bayesian classifier;</li>
<li>Voting approach: a simple majority across five algorithms;</li>
</ul>
<p>Schematic of the Algorithms and System Design Used for Sentiment Extraction:<br><img src="/images/20171102_Yahoo.png" alt=""></p>
<h3 id="Data"><a href="#Data" class="headerlink" title="Data"></a>Data</h3><p>Our data comprises 24 tech-sector stocks, present in the Morgan Stanley High-Tech Index (MSH). These stocks were chosen so as to focus on the tech sec- tor, and also because their message boards showed a wide range of activity. For a period of two months, July and August 2001, we downloaded every message posted to these boards. This resulted in a total of 145,110 messages. These messages were farmed by a lengthy process of Web-scraping.</p>
<h3 id="Variables"><a href="#Variables" class="headerlink" title="Variables"></a>Variables</h3><p>We examine the statistical relationship of <strong>the stock series (MSH)</strong> to <strong>the sentiment series (SENTY)</strong>. We regress the aggregate sentiment level on lagged values of the stock index and sentiment. We also regress the stock index level on the same lagged values.</p>
<h4 id="The-regressions-in-levels"><a href="#The-regressions-in-levels" class="headerlink" title="The regressions in levels"></a>The regressions in levels</h4><p>The regressions in levels show that tech index is strongly related to its value on the previous day, and weakly related to the sentiment index value from the previous day at the 10% significance level.</p>
<h4 id="The-regressions-in-changes"><a href="#The-regressions-in-changes" class="headerlink" title="The regressions in changes"></a>The regressions in changes</h4><p>The regressions in changes show that the sentiment index on a given day is significantly related to its prior day&#x2019;s value, but not to that of the stock index.</p>
<h3 id="Conclusions"><a href="#Conclusions" class="headerlink" title="Conclusions"></a>Conclusions</h3><p>Whereas <strong>the sentiment index</strong> has expected contemporaneous relationships with various market variables, the disagreement measure we create evidences very little correlation to other variables. The overall evidence suggests that <strong>market activity is related to small investor sentiment and message board activity</strong>.</p>
<h3 id="Contributions"><a href="#Contributions" class="headerlink" title="Contributions"></a>Contributions</h3><p>We developed a methodology for extracting small investor sentiment from stock message boards. Five distinct classifier algorithms coupled by a voting scheme are evaluated using a range of metrics.</p>
<h2 id="Customers-as-advisors-The-role-of-social-media-in-financial-markets"><a href="#Customers-as-advisors-The-role-of-social-media-in-financial-markets" class="headerlink" title="Customers as advisors: The role of social media in financial markets"></a>Customers as advisors: The role of social media in financial markets</h2><p>Chen et al, 2013<sup><a href="#fn_3" id="reffn_3">3</a></sup> investigates the extent to which peer-based advice transmitted through social media affects the stock market.</p>
<h3 id="Theories-and-Models"><a href="#Theories-and-Models" class="headerlink" title="Theories and Models"></a>Theories and Models</h3><p>Frequency of negative words used in an article captures the tone of the report.</p>
<h3 id="Data-1"><a href="#Data-1" class="headerlink" title="Data"></a>Data</h3><p>The sample period spans from 2006 to 2010 and is determined by the availability of <a href="https://seekingalpha.com/" target="_blank" rel="external">Seeking Alpha(SA)</a> data:</p>
<ul>
<li>Text data: <a href="https://seekingalpha.com/" target="_blank" rel="external">Seeking Alpha (SA)</a> and <a href="https://www.wsj.com/" target="_blank" rel="external">Wall Street Journal (WSJ)</a> articles;</li>
<li>Financial-analyst data: the Institutional Brokers&#x2019; Estimate System (IBES) file;</li>
<li>Financial-statement and financial- market data: COMPUSTAT and the Center for Research in Security Prices (CRSP);</li>
<li>Institutional-holdings data: Thomson Financial;</li>
</ul>
<h3 id="Variables-1"><a href="#Variables-1" class="headerlink" title="Variables"></a>Variables</h3><p>Our observations are on a firm/trading-day level. Depending on the regression specification, we have between 30,212 and 30,255 observations.</p>
<h4 id="Dependent-variables"><a href="#Dependent-variables" class="headerlink" title="Dependent variables"></a>Dependent variables</h4><p>Measure of abnormal returns:</p>
<ul>
<li>one-day holding-period returns for day t and day t+1 (${ARet}_{i,t}$ and ${ARet}_{i,t+1}$, respectively)</li>
<li>two-day holding-period returns from day t to t+1 and day t+1 to t+2 (${ARet}_{i,t,t+1}$ and ${ARet}_{i,t+1,t+2}$, respectively)</li>
</ul>
<p>where t is the day on which the article appears on the SA website.</p>
<h4 id="Independent-variables"><a href="#Independent-variables" class="headerlink" title="Independent variables"></a>Independent variables</h4><ul>
<li>${NegSA}_{i,t}$, which is the average fraction of negative words across all articles published on SA about company i on day t;</li>
<li>${NegWSJ}_{i,t}$, which equals the average fraction of negative words across all WSJ articles about company i on day t (if there are any such articles and zero otherwise);</li>
<li>${DummyWSJ}_{i,t}$, which is an indicator variable denoting whether no WSJ article is written about company i on day t;</li>
<li>${Upgrade}_{i,t}$ and ${Downgrade}_{i,t}$, which are the number of analyst upgrades (downgrades) on company i on day t;</li>
<li>${PosES}_{i,t}$ and ${NegES}_{i,t}$, which are indicator variables denoting whether there is a positive (negative) earnings surprise for company i on day t;</li>
<li>$ln({Turnover}_{i,t})$, which is the natural logarithm of the average share turnover from thirty days to three days prior to day t;</li>
<li>${Volatility}_{i,t}$, which is the sum of the squared raw daily returns from thirty days to three days prior to day t;</li>
<li>${PastReturn}_{i,t}$, which is the cumulative abnormal return from thirty days to three days prior to day t.</li>
</ul>
<h3 id="Conclusions-1"><a href="#Conclusions-1" class="headerlink" title="Conclusions"></a>Conclusions</h3><ul>
<li>The opinions revealed on SA strongly associate with the corresponding companies&#x2019; stock returns, even after controlling for the effect of traditional advice sources,</li>
<li>The effect of peer-based advice on stock returns is stronger for articles that receive more attention and for companies held mostly by retail investors.</li>
</ul>
<h2 id="Social-media-and-firm-equity-value"><a href="#Social-media-and-firm-equity-value" class="headerlink" title="Social media and firm equity value"></a>Social media and firm equity value</h2><p>Luo et al, 2013<sup><a href="#fn_4" id="reffn_4">4</a></sup> scrutinizes the predictive relationships between social media and firm equity value, the relative effects of social media metrics compared with conventional online behavioral metrics, and the dynamics of these relationships.</p>
<h3 id="Theories-and-Models-1"><a href="#Theories-and-Models-1" class="headerlink" title="Theories and Models"></a>Theories and Models</h3><ol>
<li><p>Social Media as a Leading Indicator of Firm Equity Value:</p>
<ul>
<li>The <a href="https://en.wikipedia.org/wiki/Efficient-market_hypothesis" target="_blank" rel="external">efficient market hypothesis</a> and <a href="https://en.wikipedia.org/wiki/Information_asymmetry" target="_blank" rel="external">information asymmetry</a> in the stock market;</li>
<li>Social media metrics of ratings and blogs may represent credible WOM channels;</li>
<li>Investment in social media may help foster IT intangible assets of the firm;</li>
</ul>
</li>
<li><p>Social Media as a Stronger Indicator in Predicting Firm Equity Value Compared with Conventional Online Consumer Behavioral Metrics:</p>
<ul>
<li>Social media metrics tend to be more socially &#x201C;contagious&#x201D; than Web traffic and Internet searches;</li>
<li>Social media is more visible than conventional online media;</li>
<li>Social media metrics can denote a higher degree of customer engagement with the firm than do traffic and search metrics;</li>
</ul>
</li>
<li><p>Dynamics of the Predictive Value of Social Media:</p>
<ul>
<li>Information is transmitted and diffused through the wide reach of social media at the unparalleled speed;</li>
<li>Social media content can be voted on, linked, reproduced, broadcast, and spread more quickly, creating information richness and diffusion speed unmatched by conventional online behavioral metrics;</li>
</ul>
</li>
</ol>
<h3 id="Data-2"><a href="#Data-2" class="headerlink" title="Data"></a>Data</h3><p>The daily data of publicly traded firms in the computer hardware and software industries were collected from multiple sources (Alexa, CNET, Lexis/Nexus, Google search, CRSP, COMPUSTAT, and Yahoo Finance) during the period of August 1, 2007 to July 31, 2009.</p>
<h3 id="Variables-2"><a href="#Variables-2" class="headerlink" title="Variables"></a>Variables</h3><p>They employ a time-series technique, namely, <strong>VARX Model</strong>.</p>
<script type="math/tex; mode=display">
\begin{pmatrix}
{RTN}_{t} \\
{RSK}_{t} \\
{AVR}_{t} \\
{NUR}_{t} \\
{POS}_{t} \\
{NEG}_{t} \\
{PGV}_{t} \\
{REC}_{t} \\
{GSI}_{t} \\
{GSV}_{t} \\
\end{pmatrix}
=
\begin{pmatrix}
{\alpha}_{1} + {\delta}_{1}t \\
{\alpha}_{2} + {\delta}_{2}t \\
{\alpha}_{3} + {\delta}_{3}t \\
{\alpha}_{4} + {\delta}_{4}t \\
{\alpha}_{5} + {\delta}_{5}t \\
{\alpha}_{6} + {\delta}_{6}t \\
{\alpha}_{7} + {\delta}_{7}t \\
{\alpha}_{8} + {\delta}_{8}t \\
{\alpha}_{9} + {\delta}_{9}t \\
{\alpha}_{10} + {\delta}_{10}t \\
\end{pmatrix}
+\sum_{k=1}^{K} \begin{pmatrix}
{\phi}_{1,1}^{k} \cdots {\phi}_{1,10}^{k} \\
{\phi}_{2,1}^{k} \cdots {\phi}_{2,10}^{k} \\
{\phi}_{3,1}^{k} \cdots {\phi}_{3,10}^{k} \\
{\phi}_{4,1}^{k} \cdots {\phi}_{4,10}^{k} \\
{\phi}_{5,1}^{k} \cdots {\phi}_{5,10}^{k} \\
{\phi}_{6,1}^{k} \cdots {\phi}_{6,10}^{k} \\
{\phi}_{7,1}^{k} \cdots {\phi}_{7,10}^{k} \\
{\phi}_{8,1}^{k} \cdots {\phi}_{8,10}^{k} \\
{\phi}_{9,1}^{k} \cdots {\phi}_{9,10}^{k} \\
{\phi}_{10,1}^{k} \cdots {\phi}_{10,10}^{k} \\
\end{pmatrix}
\cdot
\begin{pmatrix}
{RTN}_{t-k} \\
{RSK}_{t-k} \\
{AVR}_{t-k} \\
{NUR}_{t-k} \\
{POS}_{t-k} \\
{NEG}_{t-k} \\
{PGV}_{t-k} \\
{REC}_{t-k} \\
{GSI}_{t-k} \\
{GSV}_{t-k} \\
\end{pmatrix}
+
\begin{pmatrix}
{\tau}_{1,1}^{k} \cdots {\tau}_{1,11}^{k} \\
{\tau}_{2,1}^{k} \cdots {\tau}_{2,11}^{k} \\
{\tau}_{3,1}^{k} \cdots {\tau}_{3,11}^{k} \\
{\tau}_{4,1}^{k} \cdots {\tau}_{4,11}^{k} \\
{\tau}_{5,1}^{k} \cdots {\tau}_{5,11}^{k} \\
{\tau}_{6,1}^{k} \cdots {\tau}_{6,11}^{k} \\
{\tau}_{7,1}^{k} \cdots {\tau}_{7,11}^{k} \\
{\tau}_{8,1}^{k} \cdots {\tau}_{8,11}^{k} \\
{\tau}_{9,1}^{k} \cdots {\tau}_{9,11}^{k} \\
{\tau}_{10,1}^{k} \cdots {\tau}_{10,11}^{k} \\
\end{pmatrix}
\cdot
\begin{pmatrix}
{x}_{1t} \\
{x}_{2t} \\
{x}_{3t} \\
{x}_{4t} \\
{x}_{5t} \\
{x}_{6t} \\
{x}_{7t} \\
{x}_{8t} \\
{x}_{9t} \\
{x}_{10t} \\
{x}_{11t} \\
\end{pmatrix}
+
\begin{pmatrix}
{\epsilon}_{1t} \\
{\epsilon}_{2t} \\
{\epsilon}_{3t} \\
{\epsilon}_{4t} \\
{\epsilon}_{5t} \\
{\epsilon}_{6t} \\
{\epsilon}_{7t} \\
{\epsilon}_{8t} \\
{\epsilon}_{9t} \\
{\epsilon}_{10t} \\
\end{pmatrix},</script><ul>
<li>$t$=time</li>
<li>${\alpha}_{i}$ (i = 1,2,&#x2026;,10) = constant</li>
<li>${\delta}_{i}$, ${phi}_{ij}^{k}$</li>
<li>${\tau}_{i,l}$ (i,j = 1,2,&#x2026;,10, l = 1,2,&#x2026;,11) = coefficients, K = lag length</li>
<li>$x_i$ (i = 1,2,&#x2026;,11) = an exogenous variable</li>
<li>${\epsilon}_{i}$ (i = 1,2,&#x2026;,10) = white-noise residual</li>
</ul>
<p>The lag order in VARX is selected by Schwartz&#x2019;s Bayesian information criterion (SIC) and final prediction error (FPE).</p>
<h4 id="Dependent-variables-1"><a href="#Dependent-variables-1" class="headerlink" title="Dependent variables:"></a>Dependent variables:</h4><ul>
<li>$RTN$ = firm return</li>
<li>$RSK$ = risk</li>
</ul>
<h4 id="Independent-variables-1"><a href="#Independent-variables-1" class="headerlink" title="Independent variables"></a>Independent variables</h4><ul>
<li>$AVR$ = rating level</li>
<li>$NUR$ = rating volume</li>
<li>$POS$ = number of positive blog posts</li>
<li>$NEG$ = number of negative blog posts</li>
<li>$PGV$ = page views per user</li>
<li>$REC$ = reach</li>
<li>$GSI$ = Google search intensity</li>
<li>$GSV$ = Google search instability,</li>
</ul>
<h3 id="Conclusions-2"><a href="#Conclusions-2" class="headerlink" title="Conclusions"></a>Conclusions</h3><ul>
<li>Social media-based metrics (Web blogs and consumer ratings) are significant leading indicators of firm equity value.</li>
<li>Conventional online behavioral metrics (Google searches and Web traffic) are found to have a significant yet substantially weaker predictive relationship with firm equity value than social media metrics.</li>
<li>Social media has a faster predictive value, i.e., shorter &#x201C;wear-in&#x201D; time, than conventional online media.</li>
</ul>
<h3 id="Contributions-1"><a href="#Contributions-1" class="headerlink" title="Contributions"></a>Contributions</h3><ul>
<li>Prior studies (e.g., Moe and Fader 2004, Chevalier and Mayzlin 2006, Dellarocas et al. 2007, Dhar and Chang 2009, Ghose and Yang 2009) examine the relationship between digital user metrics and product sales.</li>
<li>This study focuses on investigating the multiple sources of digital user metrics and the relative effects;</li>
<li>This study examines the enduring effects of social media.</li>
</ul>
<hr>
<blockquote id="fn_1">
<sup>1</sup>. Chen, Hsinchun, Zimbra, David (2010). AI and opinion mining. IEEE Intelligent Systems, 25(3), 74&#x2014;80<a href="#reffn_1" title="Jump back to footnote [1] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_2">
<sup>2</sup>. Das, Sanjiv R, Chen, Mike Y (2007). Yahoo! for Amazon: Sentiment extraction from small talk on the web. Management science, 53(9), 1375&#x2014;1388<a href="#reffn_2" title="Jump back to footnote [2] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_3">
<sup>3</sup>. Chen, Hailiang, De, Prabuddha, Hu, Yu Jeffrey, Hwang, Byoung-Hyoun (2013). Customers as advisors: The role of social media in financial markets.<a href="#reffn_3" title="Jump back to footnote [3] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_4">
<sup>4</sup>. Luo, Xueming, Zhang, Jie, Duan, Wenjing (2013). Social media and firm equity value. Information Systems Research, 24(1), 146&#x2014;163<a href="#reffn_4" title="Jump back to footnote [4] in the text."> &#x21A9;</a>
</blockquote>

      
    </div>
    
    
    

    <div>
    
      <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------End of post<i class="fa fa-flag"></i>Thanks for your time-------------</div>
    
</div>

    
    </div>

    
      <div>
        <div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="/qrcode_for_wechat_bdg.jpg" alt="BDG飽蠹閣 wechat" style="width: 200px; max-width: 100%;"/>
    <div>Enjoy it? Subscribe to my blog by scanning my public wechat account</div>
</div>

      </div>
    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:</strong>
    BDG飽蠹閣
  </li>
  <li class="post-copyright-link">
    <strong>Post link:</strong>
    <a href="http://blog.baoduge.com/SA_FN2/" title="Literature Review on Social Media in Financial Market">http://blog.baoduge.com/SA_FN2/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice: </strong>
    All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> unless stating additionally.
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/information-system/" rel="tag"># information_system</a>
          
            <a href="/tags/research/" rel="tag"># research</a>
          
            <a href="/tags/sentiment-analysis/" rel="tag"># sentiment_analysis</a>
          
            <a href="/tags/image/" rel="tag"># image</a>
          
            <a href="/tags/mathjax/" rel="tag"># mathjax</a>
          
            <a href="/tags/literature-review/" rel="tag"># literature_review</a>
          
            <a href="/tags/opinion-mining/" rel="tag"># opinion_mining</a>
          
            <a href="/tags/time-series/" rel="tag"># time_series</a>
          
            <a href="/tags/finance/" rel="tag"># finance</a>
          
        </div>
      

      
      
        <div class="post-widgets">
        
          <div class="wp_rating">
            <div style="color:rgb(0, 0, 0); font-size:13px; letter-spacing:3px;">Rate this post</div>
            <div id="wpac-rating"></div>
          </div>
        

        
        </div>
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/SA_FN/" rel="next" title="Literature Review on UGC/WOM">
                <i class="fa fa-chevron-left"></i> Literature Review on UGC/WOM
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/SA_FN3/" rel="prev" title="Literature Review on Special Paper: Feature Engineering + Neural Network">
                Literature Review on Special Paper: Feature Engineering + Neural Network <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          
            <img class="site-author-image" itemprop="image"
              src="http://baoduge.com/My/avatar.gif"
              alt="BDG飽蠹閣" />
          
            <p class="site-author-name" itemprop="name">BDG飽蠹閣</p>
            <p class="site-description motion-element" itemprop="description"></p>
        </div>

        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/archives">
            
                <span class="site-state-item-count">32</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">85</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/vincent27hugh" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>GitHub</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="mailto:huweihugh@gmail.com" target="_blank" title="E-Mail">
                  
                    <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://baoduge.com/" title="飽蠹閣BAODUGE" target="_blank">飽蠹閣BAODUGE</a>
                </li>
              
            </ul>
            
            <div id="days"></div>
</script>
<script language="javascript">
function show_date_time(){
window.setTimeout("show_date_time()", 1000);
BirthDay=new Date("09/08/2017 00:00:00");
today=new Date();
timeold=(today.getTime()-BirthDay.getTime());
sectimeold=timeold/1000
secondsold=Math.floor(sectimeold);
msPerDay=24*60*60*1000
e_daysold=timeold/msPerDay
daysold=Math.floor(e_daysold);
e_hrsold=(e_daysold-daysold)*24;
hrsold=setzero(Math.floor(e_hrsold));
e_minsold=(e_hrsold-hrsold)*60;
minsold=setzero(Math.floor((e_hrsold-hrsold)*60));
seconds=setzero(Math.floor((e_minsold-minsold)*60));
document.getElementById('days').innerHTML="Has been runing "+daysold+" Days "+hrsold+" Hours "+minsold+" Min "+seconds+" Sec ";
}
function setzero(i){
if (i<10)
{i="0" + i};
return i;
}
show_date_time();
</script>

          </div>
        

        <div id="days"></div>
</script>
<script language="javascript">
function show_date_time(){
window.setTimeout("show_date_time()", 1000);
BirthDay=new Date("09/08/2017 00:00:00");
today=new Date();
timeold=(today.getTime()-BirthDay.getTime());
sectimeold=timeold/1000
secondsold=Math.floor(sectimeold);
msPerDay=24*60*60*1000
e_daysold=timeold/msPerDay
daysold=Math.floor(e_daysold);
e_hrsold=(e_daysold-daysold)*24;
hrsold=setzero(Math.floor(e_hrsold));
e_minsold=(e_hrsold-hrsold)*60;
minsold=setzero(Math.floor((e_hrsold-hrsold)*60));
seconds=setzero(Math.floor((e_minsold-minsold)*60));
document.getElementById('days').innerHTML="Has been runing "+daysold+" Days "+hrsold+" Hours "+minsold+" Min "+seconds+" Sec ";
}
function setzero(i){
if (i<10)
{i="0" + i};
return i;
}
show_date_time();
</script>


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Preface"><span class="nav-number">1.</span> <span class="nav-text">Preface</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Role-of-social-media-and-sentiment-analysis-in-financial-market"><span class="nav-number">2.</span> <span class="nav-text">Role of social media and sentiment analysis in financial market</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Yahoo-for-Amazon-Sentiment-Extraction-from-Small-Talk-on-the-Web"><span class="nav-number">2.1.</span> <span class="nav-text">Yahoo! for Amazon: Sentiment Extraction from Small Talk on the Web</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Methodologies"><span class="nav-number">2.1.1.</span> <span class="nav-text">Methodologies</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Data"><span class="nav-number">2.1.2.</span> <span class="nav-text">Data</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Variables"><span class="nav-number">2.1.3.</span> <span class="nav-text">Variables</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#The-regressions-in-levels"><span class="nav-number">2.1.3.1.</span> <span class="nav-text">The regressions in levels</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#The-regressions-in-changes"><span class="nav-number">2.1.3.2.</span> <span class="nav-text">The regressions in changes</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Conclusions"><span class="nav-number">2.1.4.</span> <span class="nav-text">Conclusions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Contributions"><span class="nav-number">2.1.5.</span> <span class="nav-text">Contributions</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Customers-as-advisors-The-role-of-social-media-in-financial-markets"><span class="nav-number">2.2.</span> <span class="nav-text">Customers as advisors: The role of social media in financial markets</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Theories-and-Models"><span class="nav-number">2.2.1.</span> <span class="nav-text">Theories and Models</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Data-1"><span class="nav-number">2.2.2.</span> <span class="nav-text">Data</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Variables-1"><span class="nav-number">2.2.3.</span> <span class="nav-text">Variables</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Dependent-variables"><span class="nav-number">2.2.3.1.</span> <span class="nav-text">Dependent variables</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Independent-variables"><span class="nav-number">2.2.3.2.</span> <span class="nav-text">Independent variables</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Conclusions-1"><span class="nav-number">2.2.4.</span> <span class="nav-text">Conclusions</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Social-media-and-firm-equity-value"><span class="nav-number">2.3.</span> <span class="nav-text">Social media and firm equity value</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Theories-and-Models-1"><span class="nav-number">2.3.1.</span> <span class="nav-text">Theories and Models</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Data-2"><span class="nav-number">2.3.2.</span> <span class="nav-text">Data</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Variables-2"><span class="nav-number">2.3.3.</span> <span class="nav-text">Variables</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Dependent-variables-1"><span class="nav-number">2.3.3.1.</span> <span class="nav-text">Dependent variables:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Independent-variables-1"><span class="nav-number">2.3.3.2.</span> <span class="nav-text">Independent variables</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Conclusions-2"><span class="nav-number">2.3.4.</span> <span class="nav-text">Conclusions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Contributions-1"><span class="nav-number">2.3.5.</span> <span class="nav-text">Contributions</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2017 &mdash; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">BDG飽蠹閣</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" href="https://hexo.io">Hexo</a></div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">Theme &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.2</div>

  <div>
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  Total Visits: <span id="busuanzi_value_site_pv"></span> &nbsp&nbsp&nbsp
  Total Visitors: <span id="busuanzi_value_site_uv"></span>
</div>




        







        
      </div>
    </footer>

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  

    
      <script id="dsq-count-scr" src="https://baoduge.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://blog.baoduge.com/SA_FN2/';
          this.page.identifier = 'SA_FN2/';
          this.page.title = 'Literature Review on Social Media in Financial Market';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://baoduge.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  













  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('5');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("EkPIkYolbkzKanbzn4mNKpf7-gzGzoHsz", "lP1WbRwpyyu9r1NAqva2xWmS");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  
  <script type="text/javascript">
  wpac_init = window.wpac_init || [];
  wpac_init.push({widget: 'Rating', id: 7746,
    el: 'wpac-rating',
    color: 'fc6423'
  });
  (function() {
    if ('WIDGETPACK_LOADED' in window) return;
    WIDGETPACK_LOADED = true;
    var mc = document.createElement('script');
    mc.type = 'text/javascript';
    mc.async = true;
    mc.src = '//embed.widgetpack.com/widget.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
  })();
  </script>


  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
